# ОИУК "Телеконтроль"

2015

Содержание

    Chapter 1 Введение
        1.1 Назначение
        1.2 Возможности
        1.3 Начало работы
            1.3.1 Лицензирование
            1.3.2 Настройка Брандмауэра Windows
    Chapter 2 Архитектура
        2.1 Конфигурация
            2.1.1 Объекты
            2.1.2 Группы объектов
            2.1.3 Устройства
            2.1.4 Ретрансляция
        2.2 Система приема/передачи данных
            2.2.1 Каналы
        2.3 Система обработки данных реального в
            2.3.1 Ручной ввод и блокировка
            2.3.2 Уставки
            2.3.3 Дорасчет
            2.3.4 Эмуляция
        2.4 Системные события
        2.5 Система архивирования
    Chapter 3 Графический клиент
        3.1 Запуск
        3.2 Главное окно
        3.3 Панель команд
            3.3.1 Управление
            3.3.2 Ручной ввод
            3.3.3 Уставки
        3.4 Панель объектов
        3.5 Панель оборудования
        3.6 Панель событий
        3.7 Таблица
        3.8 Мнемосхема
        3.9 График
        3.10 Таблица истории значений объекта
        3.11 Сводка
        3.12 Пользовательская таблица
        3.13 Журнал событий
        3.14 Избранное
        3.15 Портфолио
        3.16 Наблюдение
        3.17 Параметры
            3.17.1 Параметры объектов
        3.18 Таблица параметров
        3.19 Пользователи
        3.20 Использование редактора Modus
        3.21 Импорт/Экспорт конфигурации


Введение

1.1 Назначение

Оперативный информационно-управляющий комплекс «Телеконтроль» 
(далее - ОИК) предназначен для сбора и представления информации в 
требуемых конечному пользователю формах, выдачи управляющих 
команд на контролируемое оборудование, архивирования 
телеинформации и выдачи архивных сведений в удобных формах.

1.2 Возможности

• Одновременная работа нескольких пользователей без использования 
  COM/DCOM и необходимости администрирования последней.

• Отображение данных на графиках, в таблицах и на мнемосхемах 
  Modus.

• Произвольная многооконная разметка экрана.

• Поддержка протоколов МЭК-104 и МЭК-101 (МЭК-101 в режиме 
  «прослушки»).

• Инверсия, масштабирование и задание контролируемых уставок.

• Ручной ввод значений объектов.

• Ведение архивов данных и системных событий.

• Дорасчетные объекты.

• Резервирование объектов.

• Телеуправление.

• Команды принудительного опроса устройства и синхронизации 
  времени.

• Наблюдение за работой устройства с любого компьютера.

• Изменение конфигурации в любой момент без перезапуска сервера и 
  клиентов.

1.3 Начало работы

ОИК не требует специальной процедуры развертывания. Для работы 
системы необходимо скопировать файл server.exe из архива 
scada.zip в отдельную папку на серверном компьютере. При первом 
запуске сервера в его папке будет создана первичная база данных. 
Если включен Брандмауэр Windows или какая либо другая программа, 
ограничивающая доступ, необходимо разрешить входящие соединения 
TCP/IP на порт 2000[Заметка в подвал:
Описание настройки брандмауэра смотрите в приложении.
].

Скопировать файл сlient.exe в отдельную папку на клиентском 
компьютере и запустить. Схемы Modus (.sde) следует поместить в 
находящуюся на том же уровне папку public.



1.3.1 Лицензирование

Сервер требует аппаратный ключ HASP или GUARDANT для своей 
работы. Без ключа работа сервера останавливается через 2 часа 
после запуска.

1.3.2 Настройка Брандмауэра Windows

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/firewall.eps>

[Рисунок 1.3.1:
Выключенный Брандмауэр Windows
]
]

Архитектура

ОИК имеет в основе упрощенную клиент-серверную архитектуру, с 
центральным сервером. Количество систем отображения при этом не 
ограничивается.

Системы отображения подключаются к серверу посредством протокола 
TCP/IP и устойчивы к потере связи в течение работы сервера. 
Однако, при перезапуске сервера потребуется рестарт и повторный 
вход всех систем отображения.

Для работы системы требуется не менее одного компьютера с сетевым 
интерфейсом и установленной ОС Windows XP с пакетом обновления 
Service Pack 2, Windows Vista или Windows 7. Для отображения схем 
необходим компонент ActiveX Modus ActiveXeme версии 5.10. Также, 
для редактирования схем потребуется Графический редактор Modus 
(другие компоненты комплекса Modus необязательны).

Компоненты сервера:

• Конфигурация - хранит на диске информацию обо всех объектах 
  сервера, структуре оборудования и пользователях. Предоставляет 
  возможность редактирования информации пользователем и извещает 
  модули для применения изменений без рестарта сервера.

• Система приема/передачи данных (Сканер) - выполняет сбор данных 
  с оборудования в соответствии с конфигурацией. Исполняет 
  пользовательские команды ТУ, телерегулирования, принудительный 
  опрос устройств и синхронизацию времени. Осуществляет 
  ретрансляцию данных.

• Система обработки данных реального времени (Система РВ) - 
  получает данные оборудования от сканера и распределяет их по 
  объектам системы. Выполняет расчет качества и резервирование 
  каналов данных, вычисляет дорасчетные и эмулируемые значения. 
  Извещает клиентов об обновлении данных объектов. В обратную 
  сторону, перенаправляет пользовательские команды сканеру для 
  исполнения.

• Система архивирования - сохраняет на диске данные объектов, 
  полученные от системы РВ. Ведет архив системных событий. 
  Выполняет очистку БД в соответствии с глубинной, определенной в 
  конфигурации.

2.1 Конфигурация

Конфигурация содержит информацию об объектах сервера и 
используется всеми его компонентами. Конфигурация хранится во 
внуренней базе данных на диске и обновляется в момент 
редактирования, позволяя избежать потери данных при отключении 
питания.

Для редактирования кофигурации пользователь должен обладать 
административными полномочиями. В шаблонной конфигурации, 
создаваемой пользователем по умолчанию, таким пользователем 
является «root» без пароля (пароль может быть задан в 
дальнейшем).

Пользователь может обновлять конфигурацию в любой момент. При 
этом каждый компонент получит извещение, таким образом сделанные 
изменения будут отражены немедленно для всей системы.

Конфигурация содержит несколько типов информации: объекты, 
устройства, описание пользователей, и др.

2.1.1 Объекты

Объектами ОИК являются логические параметры, представляющие в 
обработанной форме данные устройств.

В ОИК объекты делятся на типы: ТС (телесигнализация) и ТИ 
(телеизмерение), являющиеся некоторым аналогом ТС и ТИ в 
общепринятой терминологии, но фактически отличающиеся лишь по 
формату хранения и способу обработки поступающей информации. ТС 
предназначен для работы с битовыми параметрами, в то время как ТИ 
работает со скалярными данными.

Объекты могут быть идентифицированы по номеру и, опционально, по 
строковому алиасу, задаваемому пользователем. Идентификация 
необходима для привязки объектов к элементам мнемосхем и в 
дорасчетных выражениях.

Объекту может быть присвоено до двух источников данных (каналов) 
для выполнения горячего резервирования. В случае двух источников, 
потеря достоверности приведет к автоматическому переключению 
объекта на резервный источник, а при восстановлении основного 
канала он снова будет задействован в качестве источника данных 
объекта.

Также может быть задан один канал управления (ТУ или 
телерегулирования). В частности, каналом управления может быть 
канал, используемый в качестве источника данных этого же объекта.

Значения, полученные от источников данных, могут быть 
инвертированы (для ТС), преобразованы по линейной шкале (ТИТ) или 
вычислены с использованием математической формулы (раздел [sec:дорасчет]
).

Также для объекта может быть настроено архивирование в базу 
данных с указанием глубины архива в днях.

2.1.2 Группы объектов

Объекты могут быть включены в группы объектов. Группы, в свою 
очередь, могут быть включены в другие группы. Пользователь может 
перемещать объекты между группами без нарушения поведения 
системы.

2.1.3 Устройства

Для задания конфигурации оборудования ОИК определяет два класса: 
направления и устройства. Направления представляют собой 
определение канала связи с устройствами (параметры COM-порта, 
IP-адрес и т.д) с указанием параметров протокола взаимодействия. 
Устройства входят в направления и определяются различными 
адресами устройств, подключенных к данному каналу.

Для взаимодействия с устройствами ОИК поддерживает протоколы МЭК 
101/104 и MODBUS ASCII/RTU.

2.1.4 Ретрансляция

Устройствам могут быть заданы таблицы ретрансляции, 
устананвливающие соответствие между объектами и адресами 
информационных каналов удаленного устройства. При этом 
ретрансляция будет осуществлена и для пользовательских команд ТУ.

2.2 Система приема/передачи данных

Система приема/передачи данных (далее - Сканер) выполяет сбор 
данных с устройств или ретрансляцию значений объектов ОИК на 
устройства, используя параметры, заданные в конфигурации.

Сканер устанавливает соединения по всем заданным направлениям и 
выполняет сбор данных, в соответствии с протоколом и параметрами, 
определенным для направления. При изменении пользователем 
конфигурации направления или устройства, а также добавлении или 
удалении, сканер автоматически переустанавивает или закрывает 
канал связи с устройством. После установления связи с 
устройством, Сканер выполняет команды инициализации (полный 
опрос, синхронизация времени), в соответствии с конфигурацией 
устройства.

Сканер передает на устройства команды команды ТУ или другие 
команды, получаемые от пользователя.

При потере или восстановлении связи сканер регистрирует 
соответствующие системные события.

2.2.1 Каналы

Различные информационные объекты устройств (ТС, ТИТ или ТИИ), 
являющиеся источниками данных для объектов системы, называются 
информационными каналами (или просто - каналами). Чаще каналы 
опеределяются единственным числом - адресом информационного 
объекта (как в протоколах МЭК), однако, в общем случае 
спецификация канала зависит от типа устройства и используемого 
протокола (в MODBUS).

Примеры каналов МЭК: «1», «23», «1403».

Примеры каналов MODBUS:

• «BOOL:3» - параметр типа COIL с адресом 3 (нумерация адресов с 
  1), принимающий значения 0 или 1;

• «UINT16:10020» - параметр INPUT REGISTER с адресом 20, 
  принимающий значения в диапазоне \left[0,2^{16}-1\right]
.

Информационным каналам присуще «качество» (или «достоверность»), 
определяемое состоянием канала связи с устройством, или 
признаками достоверности, передаваемыми устройством.

2.3 Система обработки данных реального времени

Система РВ распределяет значения информационных каналов 
устройств, полученные от сканера, между объектами системы в 
соответствии с конфигурацией. В обратном направлении, система 
выполняет передачу команд пользователя сканеру. При наличии 
резервного канала, система РВ переключает каналы объекта в 
зависимости от качества основного канала. Выполняет вычисление 
дорасчетных и эмулируемых объектов.

Значение объекта ТС может быть инвертировано, в соответствии с 
его конфигурацией. Для объектов ТИ может быть определено линейное 
преобразование для преобразование физической шкалы в логическую.

При изменении состояния объекта ТС система РВ регистрирует 
системное событие. Для объектов ТИТ позволяется задание четырех 
уставок (нижняя/верхняя аварийная, нижняя/верхняя предаварийная), 
выход за которые (как и возвращение в нормальный диапазон) также 
приводит к регистрации события.

При этом системой РВ выставляются признаки качества значения 
объекта, с учетом качества источника данных. которые. Признаки 
качества значения объекта ОИК обычно отображаются рядом со 
значением объекта, также им присущи следующие буквенные 
обозначения:

  К - не настроен или ошибка конфигурации

  С - нет связи

  Н - ошибка подключения или неверное выражение

  Р - ручной ввод

  2 - резервный канал

  Б - блокировка канала

  У - устаревание

  В - выход за уставку 

При перезапуске сервера, система РВ восстанавливает последние 
значения объектов из архива.

Система РВ позволяет отслеживать актуальность данных объекта, при 
установке периода устаревания в его конфигурации. В случае, если 
значение объекта не будет обновляться в течение периода 
устаревания, значению объекта будет выставленен признак 
устаревания.

Система РВ поддерживает изменения значений объектов назад во 
времени. То есть, информация, относящаяся к более раннему моменту 
времени, чем уже поступившая, будет корректно обработана 
системой. В том числе, помещена в архив.



Кроме того, система РВ выполняет дорасчет и эмуляцию значений 
объектов.

2.3.1 Ручной ввод и блокировка

2.3.2 Уставки

2.3.3 Дорасчет<sec:дорасчет>

В качестве источника данных любому объекту ОИК можно задать 
математическое выражение, также называемое дорасчетом.

Формулы дорасчета могут состоять из математических операций, 
скобок, имен каналов и алиасов других объектов в качестве 
переменных.

Также допустимо использование функций:

• sin(x) - \sin x
 (все углы в радианах)

• cos(x) - \cos x


• tan(x) - \tan x


• asin(x) - \arcsin x


• acos(x) - \arccos x


• atan(x) - \arctan x


• atan2(y, x) - \arctan\frac{y}{x}


• abs(x) - \left\Vert x\right\Vert 


• not(x) - отрицание:\begin{cases}
0 & x\neq0\\
1 & x=0
\end{cases}


• sqrt(x) - \sqrt{x}


• sign(x) - знак: \begin{cases}
-1 & x<0\\
0 & x=0\\
1 & x>0
\end{cases}

   

• min(x1, x2, ...) - \min x1,x2,...
 (произвольное число 
  параметров)

• max(x1, x2, ...) - \max x1,x2,...


• and(x1, x2, ...) - логическое И: если все x1,x2,...\neq0
, то 
  1, иначе 0

• or(x1, x2, ...) - логическое ИЛИ: если хоть один из x1,x2,...\neq0

  , то 1, иначе 0

• if(x, a, b) - условный оператор: \begin{cases}
a & x\neq0\\
b & x=0
\end{cases}

   

ТИТ1 + ТИТ2 * ТИТ3

sin({IEC_DEV.1\Канал1})

if (or(рек1_ток>3, рек2_ток>3),рек3_ток,0)

2.3.4 Эмуляция

Для тестирования поведения системы на этапе подготовки проекта 
ОИК позволяет задать режим эмуляции объектам системы. Наличие 
оборудования при этом не требуется.

В качестве генератора данных используется одна из 
предопределенных функций с заданными параметрами фазы и частоты, 
которые в ОИК называются эмулируемыми сигналами.

2.4 Системные события

Системное событие ОИК представляет собой запись с несколькими 
полями, главными из которых являются время события и сообщение. 
При регистрации события, оно помечается как неквитированное, до 
квитирования его пользователем (при этом событие квитируется во 
всей системе).

Если событие относится к объекту системы, ему также присваивается 
ссылка на объект. Примерами событиями, относящимися к объекту, 
являются:

• изменение состояния объекта ТС;

• выход значения объекта ТИ за уставку;

• ручной ввод значения объекта и установка блокировки;

• снятие объекта с блокировки;

• этапы команды управления объектом.

Некоторые типы событий могут иметь привязку к устройству:

• потеря и восстановление связи с устройством;

• переконфигурация, рестарт, либо удаление устройства.

2.5 Система архивирования

Система архивирования, в соответствии с настройками конфигурации, 
сохраняет историю изменения значений объектов и системных событий 
в одной или нескольких базах данных Sqlite (http://www.sqlite.org
). Данная СУБД встроена в сервер и не требует установки сторонних 
компонентов. Сохраненная в архиве история может быть запрошена из 
БД для отображения на графике или в табличной форме.

Система архивирования автоматически выполяет очистку архива в 
соответствии с глубиной данных, определенной в конфигурации. 
Обслуживание (очистка, сжатие) базы данных производится сервером 
автоматически.

ВНИМАНИЕ: При удалении объекта удаляется вся связанная с ним 
история.

Графический клиент

3.1 Запуск

При первом входе в систему следует воспользоваться 
административным логином. Для этого нужно ввести имя root, а 
пароль оставить пустым (рисунок [pic:login]).

Если сервер ОИК установлен на другом компьютере, его имя (или 
адрес IP) нужно ввести в поле Сервер.

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/login.eps>

[Рисунок 3.1.1:
Вход в систему
]<pic:login>
]

Далее для использования системы отображения следует использовать 
имена других созданных пользователей, а пароль пользователя root 
необходимо изменить.



При установленном флаге Автоматический вход программа запомнит 
текущие настройки имени пользователя, пароля и сервера и будет 
запускаться без отображения окна Вход в систему. Для отключения 
этого режима удерживайте Ctrl при запуске программы.

3.2 Главное окно

Главное окно графического клиента имеет строку меню, 
расположенную под заголовком окна, панель команд, находящуюся под 
нею, и строку состояния, примыкающую к нижней границе окна.

Строка меню содержит следующие пункты:

  Схема Содержит список всех доступных мнемосхем. Служит для 
  вызова мнемосхем.

  График Позволяет создать новое окно графика или вызвать 
  существующий график, внесенный ранее в избранное.

  Таблица Позволяет создать новое окно таблицы или 
  пользовательской таблицы.

  Объект Содержит контекстный список команд, применимых к 
  выделенному объекту.

  Далее Позволяет отображать различные панели и окна 
  редактирования конфигурации в режиме администрирования. Также 
  содержит команды импорта и экспорта конфигурации.

  Лист Команды для работы с листами. Позволяет создать, 
  переименовать или удалить лист. Также содержит список всех 
  листов для переключения между ними.

  Окно Команды для работы с окнами текущего листа. Позволяет 
  переименовывать и закрывать открытые окна, а также помещать 
  окна в избранное (см. [Избранное]). Содержит список окон и 
  позволяет переключаться между ними. Кроме того, содержит список 
  последних закрытых окон, позволяя восстановить случайно 
  закрытое окно.

  Настройки Позволяет изменять внешний вид и поведение 
  графического клиента.

  Панель инструментов Позволяет изменить расположение панели 
    инструментов, либо скрыть ее.

  Строка состояния Позволяет скрыть или отобразить строку 
    состояния.

  Подтверждение управления При включении этой опции, позволяет 
    избежать случайной выдачи команд управление. При выполнении 
    команды управления пользователем будет выдан запрос для 
    подтверждения команды, либо отказа от ее выполнения.

  Сообщение об успешном управлении При успешном выполнении 
    команды, добавляет соответствующее сообщение в панель событий 
    (данное сообщение не является системным событием).

  Показывать события при появлении Отображает панель событий при 
    возникновении системного события.

  Скрывать события при квитировании Скрывает панель событий при 
    квитировании всех событий.

  Мигание основного окна по событию При наличии неквитированных 
    событий включает мигание заголовка главного окна.

  Звуковая сигнализация по событию При наличии неквитированных 
    событий включает звуковую сигнализацию.

  Встроенный визуализатор схем MODUS Включает встроенную систему 
    отображения мнемосхем MODUS. Позволяет просматривать 
    мнемосхемы без использования ActiveXeme (см. [Встроенный 
    визуализатор схем MODUS]).

  Cправка Позволяет открыть окно документации (Web-страница http://www.telecontrol.ru/workplace_manual
  ) или отобразить информацию о версии программы.

У нижней границы окна располагается строка состояния. В строке 
состояния отображается следующая информация:

• количество неквитированных событий;

• текущий порог важности фильтра событий;

• имя пользователя, пользующегося клиентом в данный момент;

• состояние связи с сервером.

Центральная часть главного называется листом. На листе могут быть 
открыты панели и рабочие окна. Допускается создание нескольких 
листов, при этом всегда отображается один из них. Листы можно 
переключать, выбирая соответствующее имя в меню "Лист". Имя листа 
можно изменить с помощью команды меню "Лист - Переименовать".

Открытые окна имеют заголовки, в котором отображается имя окна. 
Справа от имени располагается кнопка закрытия окна. Имя окна 
может быть изменено командой меню «Окно - Переименовать». При 
щелчке правой кнопкой по заголовку отображается контекстное меню 
окна, позволяющее переименовать окно, закрыть его или добавить в 
избранное (см. [Избранное]).

Окна и панели могут располагаться на листе в произвольной 
разметке. Для перемещения окна по разметке следует перетащить его 
мышью за заголовок. При перетаскивании синим цветом будет 
показано новое расположение окна. Окна могут располагаться как 
рядом, с использованием горизонтального или вертикального 
разбиения, так и в «стопке» - в этом случае окна накладываются 
одно на другое, щелчок по заголовку позволяет переместить нужное 
окно на верх. При сохранении листа разметка окон сохраняется, что 
позволяет переключать наборы отображаемых данных в зависимости от 
необходимости.

При закрытии окна, оно помещается в корзину. Корзина содержит 10 
последних закрытых окон. Для восстановления окна из корзины нужно 
выбрать его имя в нижней части меню «Окно».

Любое окно может быть помещено в избранное. Для этого нужно 
выбрать команду меню Окно — В избранное, после чего ввести имя 
окна для идентификации. При этом окно сохраняется вместе с 
содержимым и может быть вызвано в любой момент из панели 
избранного (см. [Панель избранного]). Кроме того, графики и 
таблицы, помещенные в избранное начинает отображаться в 
соответствующем пункте меню главного окна.

3.3 Панель команд

Панель команд, располагающаяся под строкой меню, служит для 
быстрого доступа к командам выделенного объекта.

Команды объектов:

  График Отображает окно графика по выделенному объекту. Если 
  график с объектом уже открыт, переключается на нее.

  Таблица Отображает таблицу по выделенному объекту или группе 
  объектов. Если таблица с объектом уже открыта, переключается на 
  нее.

  Схема Отображает мнемосхему, содержащую привязку к выделенному 
  объекту. Если мнемосхема уже открыта, переключается на нее. 
  Также выделяет привязанного графический элемент на схеме и 
  индицирует его положение анимацией.

  Данные Отображает таблицу истории изменения значения 
  выделенного объекта. Если таблица истории уже открыта для этого 
  объекта, переключается на нее.

  Сводка Отображает сводку данных выделенного объекта. Если 
  сводка уже открыта для этого объекта, переключается на нее.

  События Отображает журнал системных событий, относящихся к 
  выделенному объекту. Если журнал событий уже открыт для этого 
  объекта, переключается на него.

  Таблица группы Отображает таблицу для всех объектов, 
  находящихся в той же группе, что и выделенный объект.

  Квитировать Квитирует все события, относящиеся к выделенному 
  объекту.

  Снять блокировку Снимает блокировку с выделенного объекты (см. 
  [Блокировка]).

  Управление Позволяет выдать команду ТУ или телерегулирования 
  для выделенного объекта (см. [Управление]).

  Ручной ввод Позволяет ввести нового значение объекта вручную 
  (см. [Ручной ввод]).

  Устройство Группа команд, применимых к устройству, связанного с 
  выделенным объектом. Идентично аналогичной группе команд 
  устройства.

Команды устройств:

  Наблюдение Отображает окно наблюдения за выделенным 
  устройством.

  Метрики Отображает таблицу метрик выделенного устройства. Если 
  выделено направление, то отображаются также метрики по всем 
  устройствам подключенным к направлению.

  Включить Запускает обмен сервера с выделенным устройством.

  Отключить Останавливает обмен сервера с выделенным устройством.

  Устройство Группа команд, применимых к выделенным устройству.

  Опросить устройство Заставляет сервер выполнить принудительный 
    полный опрос устройства.

  Синхронизация часов Заставляет сервер выполнить синхронизацию 
    часов устройства.

Общие команды:

  Печать Распечатывает содержимое активного окна.

  Квитировать все Квитирует все системные события.

  Панель событий Отображает панель событий. Либо переключается на 
  панель событий, если она уже отображена.

  Параметры (Только для администратора.) Отображает окно 
  параметров выделенного объекта.

  Элементы (Только для администратора.) Отображает таблицу 
  параметров всех элементов, входящих в выделенный объект (группу 
  или направление).

  Удалить (Только для администратора.) Удаляет выделенный объект 
  или устройство из системы.

3.3.1 Управление

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/control-ts.eps>

[Рисунок 3.3.1:
Телеуправление
]
]

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/control-ti.eps>

[Рисунок 3.3.2:
Телерегулирование
]
]

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/control-confirm.eps>

[Рисунок 3.3.3:
Подтверждение управления
]
]

3.3.2 Ручной ввод

Блокировка.

3.3.3 Уставки

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/limits.eps>

[Рисунок 3.3.4:
Задание уставок
]
]

3.4 Панель объектов

Панель объектов служит для быстрого выбора объектов, вызова 
различных окон и выполнения команд и операций с объектами. В 
панели объектов отображается структура объектов, разбитых по 
группам. Панель объектов можно отобразить командой меню «Далее - 
Объекты».

Напротив имен объектов в правой части панели выводятся их 
значения и признаки качества. Недостоверные значения отображаются 
серым цветом. При наличии неквитированных системных событий, 
связанных с объектом, значение мигает желтым цветом.

Слева от объектов и групп располагается переключатель, 
предназначенный для включения объектов в текущее окно или или 
исключения их оттуда. При щелчке по переключателю группы, в 
текущее окно включаются все объекты нижележащей иерархии группы 
(переключатель самой группы при этом остается отключенным, т.к. 
группы не могут быть включены в окна).

При двойном щелчке по объекту будет открыт график объекта, а при 
двойном щелчке по группе - таблица со всеми объектами, входящими 
в группу.

При щелчке правой клавишей мыши отображается контекстное меню, 
содержащее операции применяемые к выделенному объекту или группе.

[Команды контекстного меню]

В режиме администрирования разрешается перетаскивание объектов по 
иерархии мышкой.

[Создание объектов]

3.5 Панель оборудования

Для вызова панели Оборудование следует выбрать меню Далее – 
Оборудование.

Элементами подсистемы МЭК являются направления, определяющие 
каналы данных: IP-адрес для МЭК-104 и серийный порт для МЭК-101. 
Одно направление может обеспечивать соединение с несколькими 
устройствами.

Для редактирования параметров элемента следует из контекстного 
меню элемента выбрать пункт Параметры.

Начать наблюдение за обменом с устройством можно выбрав из 
контекстного меню подсистемы пункт Наблюдение.



3.6 Панель событий

Панель событий отображает список неквитированных системных 
событий.

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/events-cur.eps>[Рисунок 3.6.1:
Панель событий
]
]

Для квитирования события нужно дважды щелкнуть по строке события 
или выделить событие щелком по нему и затем нажать "Квитировать" 
на панели команд. После квитирования, событие пропадает из панели 
событий. Также, удерживая клавишу Shift, можно выделить несколько 
событий и квитировать их одновременно. Для квитирования всех 
событий нажать кнопку "Квитировать все" на панели инструментов.

При включении опции "Отображение событий при появлении" в меню 
"Настройки" окно будет автоматически отображено при появлении 
нового события.

При щелчке правой кнопкой по строке события отображается 
контекстное меню с командами, применяемыми к событию. Если 
событие связано с объектом или устройством, то также отображаются 
команды, применяемые к объекту или устройству.

[Команды контекстного меню] 

3.7 Таблица

Данное окно отображает текущие значения объектов в виде таблицы, 
строкам которой соответствуют объекты, а столбцам их текущие 
значения и сопутствующая информация: признаки качества, время 
последнего изменения значения, время последнего обновления 
значения с устройства, системные события.

При щелчке по строке таблицы она становится выделенной. При этом 
панель команд отображает команды, применимые к объекту этой 
строки. Щелок правой кнопкой вызывает контекстное меню с 
командами, применимыми к объекту и строке таблицы. С помощью 
клавиш Shift и Ctrl можно выделить несколько строк одновременно.

Добавление строк осуществляется с помощью панели объектов 
(включением объекта), либо непосредственным вводом алиаса объекта 
в последнюю строку таблицы. Кроме алиасов можно использовать 
математические формулы (см. [Формулы]).

Удаление выделенной строки производится нажатием клавиши Delete, 
либо с помощью панели объектов - при этом удаляются все строки 
таблицы, в которых указан исключаемый объект.

[Контекстное меню]

Двойной щелчок по строке таблицы открывает график объекта.

При наличии неквитированных событий, ячейка, соответствующая 
значению объекта, начинает мигать. В этом случае, двойной щелчок 
в соответствующей строке приведет к квитированию всех событий, 
относящихся к объекту. Описание последнего неквитированного 
системного события, связанного с объектом, при наличии такового, 
отображается в крайнем правом столбце. Если неквитированных 
событий несколько, их количество выводится в начале, заключенное 
в квадратные скобки. При наведении указателя мыши на строку с 
событиями, после небольшой задержки, во всплывающей подсказке 
будут отображены первые три события. Все события по объекту можно 
просмотреть в журнале событий, вызовом команды «События» после 
выделения строки.

Строки таблицы можно перемещать вверх и вниз нажатием клавиш 
Ctrl+Вверх и Ctrl+Вниз, либо выбором из контекстного меню строки 
пунктов Сместить вверх и Сместить вниз.

[Формулы]

[Сортировка по имени/каналам] 

3.8 Мнемосхема

3.9 График

Внизу окна графика располагается шкала времени, слева - шкала 
значений. Центральную область занимает область графика. Область 
графика отображает историю изменения значения объекта в виде 
линии тренда, проходящей через точки, определяемые временем 
(горизонтальная ось) и соответствующим времени значением 
(вертикальная ось) объекта. По мере поступления новых данных 
линия графика дополняется новыми точками. Недостоверные значения 
отображаются пунктирной линией, исходящей из соответствующей 
точки.

[Текущее значение]

[ТС]

При включении в окно графика нескольких объектов (при помощи 
панели объектов), для каждого объекта создается собственная 
область графика и шкала значений.

Для просмотра значений объекта в табличном виде следует вызвать 
команду «Данные» из панели команд или контекстного меню графика.

[Контекстное меню]

[Ступенчатый]

[Точки]

[Легенда]

Границы шкала значений устанавливается в соответствии со шкалой 
объекта, определенной в его конфигурации.

Границы шкалы времени определяется пользователем. Для прокрутки 
графика по шкале времени, следует нажать левую кнопку мыши в 
области графика и перемещать мышь влево или вправо. При этом 
прокрутка вправо ограничена текущим временем. Также можно задать 
временной период относительно текущего момента, выбирая интервал 
на панели команд. Для возврата к текущему значению и включению 
автоматической прокрутки при появлении новых данных следует из 
контекстного меню графика выбрать пункт Текущее время. При 
прокрутке графика влево, данные для открывшейся зоны будут 
автоматически запрошены с сервера.

Для изменения масштаба, следует нажать левую клавишу мыши на 
соответствующей шкале и перемещать мышь влево/вправо (для шкалы 
времени) или вверх/вниз (для шкалы времени).

При одиночном щелчке по шкале времени или значений, в 
соответствующую позицию шкалы добавляется курсор, служащий для 
исследования графика. Курсор - это горизонтальная (для значений) 
или вертикальная (для времени) линия, привязанная к значению 
шкалы и проходящая через всю область графика. На шкале 
отображается "корешок" курсора, подписанный значением, к которому 
привязан курсор.

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/graph-cursor.eps>

[Рисунок 3.9.1:
Курсоры графика
]<pic:graph-cursor>
]

После добавления курсора он становится перемещаемым и следует за 
указателем мыши. При этом легенда отображает значения линии 
графика, соответствующее положению курсора. Для закрепления 
курсора следует еще раз щелкнуть в нужной позиции шкалы. 
Допустимо произвольное количество курсоров на графике. При 
изменении масштаба графика курсоры остаются привязанными к 
значениям шкалы.

Чтобы открепить курсор и вновь сделать его перемещаемым, следует 
щелкнуть по его корешку. Для удаления курсора следует открепить 
его и нажать клавишу Delete.

[Уставки]

3.10 Таблица истории значений объекта

3.11 Сводка

3.12 Пользовательская таблица

3.13 Журнал событий



3.14 Избранное

Добавление в избранное.

3.15 Портфолио

Добавление в портфолио.

3.16 Наблюдение

3.17 Параметры

3.17.1 Параметры объектов

• Имя объекта – отображается в любом месте системы, где есть 
  упоминание об этом объекте. Имя может состоять из произвольных 
  символов, уникальность не требуется. Для точной идентификации 
  объекта в местах отображения используется полный формат имени, 
  включающий в себя имена всех родительских групп, например: 
  "Группа 1 : Подгруппа 1 : ТС1".

• Алиас – задает уникальное имя объекта в системе. Может 
  использоваться для быстрого ввода объекта в таблицы и графики, 
  а также для привязки объектов к элементам мнемосхемы. В других 
  случаях алиас можно не указывать. Допустимы алиасы, состоящие 
  из английских и русских букв и цифр, но не содержащие пробелов. 
  Длина алиаса не должна превышать 50 символов.

• Источник данных – позволяет выбрать Основной или Резервный 
  источник данных. А также перейти в режим Управления.

• Режим Управления – задается, если нужно Телеуправление 
  объектом.

• Устройство – позволяет выбрать устройство, являющееся 
  источником данных. Либо, если устройство не выбрано, в строке 
  элемент задается дорасчет.

• Элемент – здесь указывается либо адрес информационного объекта 
  устройства, либо выбирается параметр из списка. Если устройство 
  не выбрано, здесь же вводится выражение дорасчета.

• Флаг Инверсия – определяет, следует ли инвертировать полученное 
  с устройства состояние ТС. 

• Список Формат – в параметрах объекта ТС позволяет указать 
  способ отображения объекта ТС на экране, выбрав один из 
  существующих форматов. Просмотреть и изменить список форматов 
  можно выбрав из главного меню Далее – Форматы.

• Группа Преобразование и диапазоны – содержит параметры, 
  определяющие правила обработки входящих данных для объектов 
  ТИТ:

  – Опцией Линейное включается линейное преобразование шкалы 
    (смещение и масштабирование).

  – Опция Нет позволяет отключить преобразование входных данных.

  – Лог мин и Лог макс определяют логический диапазон значений 
    объекта ТИТ. Используются для любого типа преобразования. 
    Определяет шкалу графиков.

  – Физ мин и Физ макс используются для линейного преобразования 
    и определяют физический диапазон значений получаемых с 
    устройства.

• Флаг Ограничение диапазона – ограничивает значение пределами 
  лог. диапазона.

• Флаг Контроль устаревания – позволяет задать время устаревания 
  событий.

• Архивирование – задает глубину хранения архивных данных для 
  объекта.

• Группа Параметры – определяет форматирование значения объекта 
  ТИТ при отображении:

  – Формат определяет количество знаков после запятой.

  – Ед. изм. определяет единицу измерения ("Вт", "А"), выводимую 
    после значения.

• Флаг Эмуляция – позволяет включить эмуляцию сигнала. Тип 
  эмуляции можно выбрать в выпадающем списке. Редактирование 
  списка доступно из вкладки Далее – Эмулируемые сигналы. 

3.18 Таблица параметров

3.19 Пользователи

Смена пароля.

[плавающий объект Рисунок:
<Изображение: C:/Work/scada/stable/docs/scada/users.eps>

[Рисунок 3.19.1:
Редактирование списка пользователей
]
]

3.20 Использование редактора Modus

Для привязки объекта ТС или ТИТ к мнемосхеме нужно задать алиас. 
Это можно сделать из ОИК в окне параметров, открываемом при 
выборе пункта Параметры из контекстного меню объекта. Допустимы 
алиасы, состоящие из английских и русских букв и цифр, но не 
содержащие пробелов.

После того, как алиас будет определен, его нужно привязать к 
элементу схемы. Объекты ТС привязываются к переключателям, 
имеющим свойство положение, а ТИТ - к текстовым полям со 
свойством текст. В Графическом редакторе выберите элемент и 
укажите алиас как значение для свойства ключ_привязки в редакторе 
свойств (F11). 

Готовые мнемосхемы (файлы с расширением sde) следует скопировать 
в папку public, расположенную рядом с client.exe. После 
перезапуска системы отображения они будут доступны в меню Схемы.

После изменения схемы или алиаса достаточно закрыть и повторно 
открыть схему в ОИК для просмотра результата.

3.21 Импорт/Экспорт конфигурации



